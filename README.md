# ruc_rag_project
## 项目架构
### dataset
使用milvus离线建立知识库，对rag系统提供知识库检索服务，对管理者提供数据库管理服务，提供数据库查询服务,实现对知识库数据的增删改查，提供chunk方法，完成对知识库数据的合理分块。

### evaluator
离线进行评估，对rag系统进行评测，包括但不限于对retriever、generator等评估。

### config
设定初始配置文件，包括数据库配置，模型配置，服务配置等，并且允许用户自定义配置文件。

### rag
向用户暴露retrieve接口，提供检索服务；向用户暴露rerank接口，提供重排服务；向用户暴露generate接口，提供生成服务。其中内部包含对query进行预处理，对query查询进行判断，对query进行优化，对rerank得到的内容进行优化等等。

### examples
向用户提供示例代码，包括使用retrieve、rerank、generate接口的示例代码。

## 模块划分

### 离线部分
数据模块：主要包含数据管理，使用milvus服务端对数据库进行管理，并且把客户端接口提供给检索模块，进行分离

评估模块：评估模块需要对检索模块、生成模块进行评估，同时辅助进行对比实验，测试不同模型，不同算法的性能指标
### 线上部分
检索模块：对问题进行扩充，改写，分解等操作，避免问题提问方式不利于检索，再对问题进行初步检索

重排模块：对检索得到的文档进行重排，并将重排得到的文档进行优化

生成模块：将最终文档结合问题与提示词输入给大模型，生成答案

